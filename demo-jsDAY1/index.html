<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSdemo-DAY1</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main >
        <div class="box" id="divx"></div>
    </main>
    <footer></footer>
    <script>
        keys = {              //声明二维数组 代表键盘上的键位
            "0": {0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p','length': 10},
            "1": {0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l','length':9},
            "2": {0:'z',1:'x',2:'c',3:'v',4:"b",5:'n',6:'m','length':7},
            'length': 3                                        
        }
        hash = {q:'qq.com',w:'weibo.com',t:'tianmao.com',l:'lol.qq.com',a:'acfun.cn',b:'bilibili.com',z:'zhihu.com',b:'baidu.com',v:'undefined'}
        hashInlocalStorage = JSON.parse(localStorage.getItem('zzz')||'null')
        if(hashInlocalStorage){
            hash = hashInlocalStorage
        }

        index = 0           //遍历二维数组中的第一维，让其在main里面创建相等数量的div标签
        while(index<keys.length){
            div = document.createElement("div")
            divx.appendChild(div)
            row = keys[index]
            index2 = 0      //遍历二维数组中的第二维，让其在div中生成相等数量的kbd标签
            while(index2<row.length){
                kbd = document.createElement("kbd")
                kbd.textContent = row[index2]
                button = document.createElement("button")
                kbd.appendChild(button)
                button.textContent = "编辑"
                button.id = row[index2]
                button.onclick = function(xzkjcnxlkcjlk){
                    key = xzkjcnxlkcjlk.target.id       //记录按下的这个键
                    x = prompt("给我一个网址")       //浏览器提供的函数，点击的时候会打开一个输入框
                    localStorage.setItem("zzz",JSON.stringify(hash))
                    hash[key] = x               //哈希的key等于用户输入的网址

                }
                div.appendChild(kbd)
                index2 = index2+1
            }
            index = index+1
        }
        //加入监听事件
        document.onkeypress = function(xzkjcnxlkcjlk){
            key = xzkjcnxlkcjlk['key']
            website = hash[key]   //得到监听的案件后输出哈希表里的网址
            window.open('http://'+website,'_blank') 
        }
    </script>
</body>
</html>